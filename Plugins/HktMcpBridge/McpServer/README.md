# HKT MCP Server for Unreal Engine 5

MCP (Model Context Protocol) ì„œë²„ë¡œ, LLM í´ë¼ì´ì–¸íŠ¸(Claude Desktop, Cursor ë“±)ê°€ Unreal Engine 5 ì—ë””í„°ì™€ ì§ì ‘ ëŒ€í™”í•˜ë©° ì½˜í…ì¸ ë¥¼ ìƒì„±í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

---

## ğŸ”¥ í•µì‹¬ ê°œë…: MCPë€?

**MCP(Model Context Protocol)**ëŠ” AI(Claude, GPT ë“±)ê°€ ì™¸ë¶€ ë„êµ¬ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í”„ë¡œí† ì½œì…ë‹ˆë‹¤.

### â“ ì–´ë””ì— ëª…ë ¹ì„ ì…ë ¥í•˜ë‚˜ìš”?

**Unreal Editor ì•ˆì— ì…ë ¥í•˜ëŠ” ê²Œ ì•„ë‹™ë‹ˆë‹¤!**

ëª…ë ¹ì€ **Claude Desktop ì•±** ë˜ëŠ” **Cursorì˜ AI ì±„íŒ…ì°½**ì— ìì—°ì–´ë¡œ ì…ë ¥í•©ë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Desktop ë˜ëŠ” Cursor AI Chat                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  ğŸ’¬ "í˜„ì¬ ë ˆë²¨ì— ìˆëŠ” ëª¨ë“  ì•¡í„° ëª©ë¡ ë³´ì—¬ì¤˜"              â”‚â”‚
â”‚  â”‚                                                         â”‚â”‚
â”‚  â”‚  ğŸ¤– Claudeê°€ list_actors ë„êµ¬ë¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤...            â”‚â”‚
â”‚  â”‚     ê²°ê³¼: StaticMeshActor (5ê°œ), PointLight (3ê°œ)...    â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„° íë¦„ ìƒì„¸ ì„¤ëª…

### ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ‘¤ ì‚¬ìš©ì       â”‚  "BP_Playerë¥¼ (0,0,100)ì— ìŠ¤í°í•´ì¤˜"
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ìì—°ì–´ ì…ë ¥
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ¤– LLM Client (Claude Desktop/Cursor)   â”‚
â”‚                                          â”‚
â”‚   Claudeê°€ ìš”ì²­ì„ ë¶„ì„í•˜ê³  ì ì ˆí•œ ë„êµ¬ ì„ íƒ  â”‚
â”‚   â†’ spawn_actor ë„êµ¬ í˜¸ì¶œ ê²°ì •            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ JSON-RPC (stdio)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ MCP Server (Python)                  â”‚
â”‚   (hkt_mcp.server)                       â”‚
â”‚                                          â”‚
â”‚   Tool ìš”ì²­ ìˆ˜ì‹  â†’ spawn_actor ì‹¤í–‰       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ unreal Python API
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ® Unreal Engine 5 Editor               â”‚
â”‚   (HktMcpEditorSubsystem)                â”‚
â”‚                                          â”‚
â”‚   ì‹¤ì œë¡œ ì•¡í„° ìŠ¤í° ì‹¤í–‰                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ ê²°ê³¼ ë°˜í™˜
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ‘¤ ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ í‘œì‹œ                  â”‚
â”‚   "BP_Player_C_0 ì•¡í„°ê°€ ìŠ¤í°ë˜ì—ˆìŠµë‹ˆë‹¤"    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…

#### 1ï¸âƒ£ ì‚¬ìš©ì ì…ë ¥ (Claude Desktop / Cursor)

**ì…ë ¥ ìœ„ì¹˜:**
- **Claude Desktop**: ì•± ì‹¤í–‰ í›„ ì±„íŒ…ì°½ì— ìì—°ì–´ë¡œ ì…ë ¥
- **Cursor**: Cmd+L (ë˜ëŠ” Ctrl+L) â†’ AI ì±„íŒ…ì°½ì— ìì—°ì–´ë¡œ ì…ë ¥

**ì˜ˆì‹œ ì…ë ¥:**
```
í˜„ì¬ ì—´ë ¤ìˆëŠ” ë ˆë²¨ì˜ ëª¨ë“  StaticMeshActor ìœ„ì¹˜ë¥¼ ì•Œë ¤ì¤˜
```

#### 2ï¸âƒ£ LLM ë¶„ì„ ë° ë„êµ¬ ì„ íƒ

Claudeê°€ ì‚¬ìš©ì ìš”ì²­ì„ ë¶„ì„í•˜ê³ , ì‚¬ìš© ê°€ëŠ¥í•œ MCP ë„êµ¬ ì¤‘ ì ì ˆí•œ ê²ƒì„ ì„ íƒí•©ë‹ˆë‹¤.

**Claudeì˜ ë‚´ë¶€ íŒë‹¨:**
```
ì‚¬ìš©ìê°€ StaticMeshActor ëª©ë¡ì„ ì›í•¨
â†’ list_actors ë„êµ¬ ì‚¬ìš©
â†’ class_filter: "StaticMeshActor"
```

#### 3ï¸âƒ£ MCP ì„œë²„ë¡œ ë„êµ¬ í˜¸ì¶œ (JSON-RPC)

Claudeê°€ MCP ì„œë²„ë¡œ ë³´ë‚´ëŠ” ì‹¤ì œ ë©”ì‹œì§€:

```json
{
  "jsonrpc": "2.0",
  "id": "req-001",
  "method": "tools/call",
  "params": {
    "name": "list_actors",
    "arguments": {
      "class_filter": "StaticMeshActor"
    }
  }
}
```

#### 4ï¸âƒ£ MCP ì„œë²„ ì²˜ë¦¬

`server.py`ê°€ ìš”ì²­ì„ ë°›ì•„ ì²˜ë¦¬:

```python
# server.pyì˜ dispatch_tool í•¨ìˆ˜
async def dispatch_tool(name: str, arguments: dict):
    if name == "list_actors":
        return await level_tools.list_actors(
            bridge,
            arguments.get("class_filter", "")
        )
```

#### 5ï¸âƒ£ Unreal Engine ì—°ë™

`editor_bridge.py`ê°€ ì‹¤ì œ UE5 API í˜¸ì¶œ:

```python
# ì—ë””í„° ë‚´ì—ì„œ ì‹¤í–‰ë  ë•Œ (unreal ëª¨ë“ˆ ì‚¬ìš©)
actors = unreal.EditorLevelLibrary.get_all_level_actors()
for actor in actors:
    if "StaticMeshActor" in actor.get_class().get_name():
        # ì•¡í„° ì •ë³´ ìˆ˜ì§‘
```

#### 6ï¸âƒ£ ì‘ë‹µ ë°˜í™˜

MCP ì„œë²„ê°€ Claudeì—ê²Œ ë³´ë‚´ëŠ” ì‘ë‹µ:

```json
{
  "jsonrpc": "2.0",
  "id": "req-001",
  "result": {
    "content": [
      {
        "type": "text",
        "text": "{\"count\": 5, \"actors\": [{\"name\": \"SM_Floor\", \"location\": {\"x\": 0, \"y\": 0, \"z\": 0}}, ...]}"
      }
    ]
  }
}
```

#### 7ï¸âƒ£ ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ í‘œì‹œ

Claudeê°€ ê²°ê³¼ë¥¼ ìì—°ì–´ë¡œ ë³€í™˜í•˜ì—¬ í‘œì‹œ:

```
í˜„ì¬ ë ˆë²¨ì—ì„œ 5ê°œì˜ StaticMeshActorë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤:

1. SM_Floor - ìœ„ì¹˜: (0, 0, 0)
2. SM_Wall_01 - ìœ„ì¹˜: (100, 0, 0)
3. SM_Wall_02 - ìœ„ì¹˜: (-100, 0, 0)
...
```

---

## ğŸ¯ ì‹¤ì œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ì—ì…‹ íƒìƒ‰

**Cursor AI ì±„íŒ…ì—ì„œ:**

```
ğŸ‘¤ ë‚˜: /Game/Blueprints í´ë”ì— ì–´ë–¤ ë¸”ë£¨í”„ë¦°íŠ¸ë“¤ì´ ìˆì–´?

ğŸ¤– Claude: MCP ì„œë²„ì˜ list_assets ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

[ë„êµ¬ í˜¸ì¶œ: list_assets]
  - path: "/Game/Blueprints"
  - class_filter: "Blueprint"

ğŸ“‹ ê²°ê³¼:
/Game/Blueprints ê²½ë¡œì—ì„œ 3ê°œì˜ ë¸”ë£¨í”„ë¦°íŠ¸ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤:
  â€¢ BP_Player (Blueprint) - /Game/Blueprints/BP_Player
  â€¢ BP_Enemy (Blueprint) - /Game/Blueprints/BP_Enemy
  â€¢ BP_Projectile (Blueprint) - /Game/Blueprints/BP_Projectile
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì•¡í„° ìŠ¤í°

**Claude Desktopì—ì„œ:**

```
ğŸ‘¤ ë‚˜: BP_Enemyë¥¼ í”Œë ˆì´ì–´ ê·¼ì²˜ (500, 200, 0) ìœ„ì¹˜ì— 3ê°œ ìŠ¤í°í•´ì¤˜

ğŸ¤– Claude: spawn_actor ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ 3ê°œì˜ ì ì„ ìŠ¤í°í•˜ê² ìŠµë‹ˆë‹¤.

[ë„êµ¬ í˜¸ì¶œ: spawn_actor] x 3
  - blueprint_path: "/Game/Blueprints/BP_Enemy"
  - location: {"x": 500, "y": 200, "z": 0}
  - location: {"x": 600, "y": 200, "z": 0}
  - location: {"x": 700, "y": 200, "z": 0}

âœ… 3ê°œì˜ BP_Enemy ì•¡í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ìŠ¤í°ë˜ì—ˆìŠµë‹ˆë‹¤:
  â€¢ BP_Enemy_C_0 at (500, 200, 0)
  â€¢ BP_Enemy_C_1 at (600, 200, 0)
  â€¢ BP_Enemy_C_2 at (700, 200, 0)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ë ˆë²¨ ìˆ˜ì •

```
ğŸ‘¤ ë‚˜: í˜„ì¬ ì„ íƒëœ ì•¡í„°ë¥¼ 100 ìœ ë‹› ìœ„ë¡œ ì˜¬ë ¤ì¤˜

ğŸ¤– Claude: ë¨¼ì € ì„ íƒëœ ì•¡í„°ë¥¼ í™•ì¸í•˜ê³  ìœ„ì¹˜ë¥¼ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.

[ë„êµ¬ í˜¸ì¶œ: get_selected_actors]
í˜„ì¬ ì„ íƒ: SM_Cube_01 at (0, 0, 50)

[ë„êµ¬ í˜¸ì¶œ: modify_actor]
  - actor_name: "SM_Cube_01"
  - location: {"x": 0, "y": 0, "z": 150}

âœ… SM_Cube_01ì´ (0, 0, 150)ìœ¼ë¡œ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤.
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: PIE ì œì–´

```
ğŸ‘¤ ë‚˜: ê²Œì„ í”Œë ˆì´ ì‹œì‘í•˜ê³  5ì´ˆ í›„ì— ì¤‘ì§€í•´ì¤˜

ğŸ¤– Claude: PIEë¥¼ ì‹œì‘í•˜ê³  5ì´ˆ í›„ ì¤‘ì§€í•˜ê² ìŠµë‹ˆë‹¤.

[ë„êµ¬ í˜¸ì¶œ: start_pie]
âœ… PIE ì„¸ì…˜ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.

(5ì´ˆ ëŒ€ê¸°)

[ë„êµ¬ í˜¸ì¶œ: stop_pie]
âœ… PIE ì„¸ì…˜ì´ ì¤‘ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.
```

---

## âš™ï¸ ì„¤ì¹˜ ë° ì„¤ì •

### 1. Python ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd Plugins/HktMcpBridge/McpServer
pip install -e .
```

### 2. Unreal Engine í”ŒëŸ¬ê·¸ì¸ í™œì„±í™”

1. Unreal Editor ì‹¤í–‰
2. Edit â†’ Plugins
3. "HktMcpBridge" ê²€ìƒ‰ í›„ í™œì„±í™”
4. ì—ë””í„° ì¬ì‹œì‘

### 3. Claude Desktop ì„¤ì •

**Windows:** `%APPDATA%\Claude\claude_desktop_config.json`
**macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`

```json
{
  "mcpServers": {
    "hkt-unreal": {
      "command": "python",
      "args": ["-m", "hkt_mcp.server"],
      "env": {
        "UE_PROJECT_PATH": "E:/WS/UE5/HktProto",
        "PYTHONPATH": "E:/WS/UE5/HktProto/Plugins/HktMcpBridge/McpServer/src"
      }
    }
  }
}
```

### 4. Cursor ì„¤ì •

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.cursor/mcp.json` ìƒì„±:

```json
{
  "mcpServers": {
    "hkt-unreal": {
      "command": "python",
      "args": ["-m", "hkt_mcp.server"],
      "cwd": "E:/WS/UE5/HktProto/Plugins/HktMcpBridge/McpServer",
      "env": {
        "UE_PROJECT_PATH": "E:/WS/UE5/HktProto",
        "PYTHONPATH": "E:/WS/UE5/HktProto/Plugins/HktMcpBridge/McpServer/src"
      }
    }
  }
}
```

---

## ğŸ“‹ ì‚¬ìš© ê°€ëŠ¥í•œ MCP Tools

### Asset Tools
| Tool | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|----------|
| `list_assets` | ê²½ë¡œì˜ ì—ì…‹ ëª©ë¡ | `path`, `class_filter` |
| `get_asset_info` | ì—ì…‹ ìƒì„¸ ì •ë³´ | `asset_path` |
| `search_assets` | ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰ | `query`, `class_filter` |
| `modify_asset` | ì†ì„± ìˆ˜ì • | `asset_path`, `property_name`, `new_value` |

### Level Tools
| Tool | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|----------|
| `list_actors` | ë ˆë²¨ ì•¡í„° ëª©ë¡ | `class_filter` |
| `spawn_actor` | ë¸”ë£¨í”„ë¦°íŠ¸ ìŠ¤í° | `blueprint_path`, `location`, `rotation`, `label` |
| `modify_actor` | Transform ìˆ˜ì • | `actor_name`, `location`, `rotation`, `scale` |
| `delete_actor` | ì•¡í„° ì‚­ì œ | `actor_name` |
| `select_actor` | ì•¡í„° ì„ íƒ | `actor_name` |

### Query Tools
| Tool | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|----------|
| `search_classes` | í´ë˜ìŠ¤ ê²€ìƒ‰ | `query`, `blueprint_only` |
| `get_class_properties` | ì†ì„± ì¡°íšŒ | `class_name` |
| `get_project_structure` | í´ë” êµ¬ì¡° | `root_path` |
| `get_level_info` | ë ˆë²¨ ì •ë³´ | - |

### Runtime Tools
| Tool | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|----------|
| `start_pie` | PIE ì‹œì‘ | - |
| `stop_pie` | PIE ì¤‘ì§€ | - |
| `execute_console_command` | ì½˜ì†” ì»¤ë§¨ë“œ | `command` |
| `get_game_state` | ê²Œì„ ìƒíƒœ | - |

### Utility Tools
| Tool | ì„¤ëª… | íŒŒë¼ë¯¸í„° |
|------|------|----------|
| `get_viewport_camera` | ì¹´ë©”ë¼ ìœ„ì¹˜ | - |
| `set_viewport_camera` | ì¹´ë©”ë¼ ì´ë™ | `location`, `rotation` |
| `show_notification` | ì•Œë¦¼ í‘œì‹œ | `message`, `duration` |

---

## ğŸ”§ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### MCP ì„œë²„ê°€ ì—°ê²°ë˜ì§€ ì•ŠìŒ

1. Claude Desktop/Cursor ì¬ì‹œì‘
2. Python ê²½ë¡œ í™•ì¸ (`where python` ë˜ëŠ” `which python`)
3. ì„¤ì • íŒŒì¼ JSON ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸

### "unreal ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ìŒ"

MCP ì„œë²„ëŠ” UE ì—ë””í„° ì™¸ë¶€ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. ì¼ë¶€ ê¸°ëŠ¥ì€ ì—ë””í„° ë‚´ Python í™˜ê²½ì—ì„œë§Œ ë™ì‘í•©ë‹ˆë‹¤.

### ë„êµ¬ê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ

1. Unreal Editorê°€ ì‹¤í–‰ ì¤‘ì¸ì§€ í™•ì¸
2. HktMcpBridge í”ŒëŸ¬ê·¸ì¸ì´ í™œì„±í™”ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

---

## ë¼ì´ì„ ìŠ¤

MIT License
